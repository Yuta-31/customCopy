# Custom Copy

<div align="center">

![Version](https://img.shields.io/badge/version-2.1.1-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

A Chrome extension that automatically formats text into any desired format when copying.

[Chrome Web Store](https://chromewebstore.google.com/detail/custom-copy/mdkihjamcddnifdkigeigifgoafgkfbi) | [Usage](#usage) | [Features](#key-features)

[Êó•Êú¨Ë™ûÁâà README](./README.ja.md)

</div>

---

## üìñ Overview

**Custom Copy** is a Chrome extension that automatically formats text based on predefined templates when copying from web pages to the clipboard.

It can be used in various scenarios such as creating links in Markdown format, copying in citation format, or organizing information in custom formats.

### Key Features

- ‚ú® **Custom Templates**: Create and manage templates freely
- üîÑ **Variable Substitution**: Automatically insert page title, URL, and selected text
- üéØ **Right-Click Menu**: Easy access from the context menu
- ‚å®Ô∏è **Keyboard Shortcuts**: Quick copy with Ctrl+Shift+1 ~ 4
- üìù **Multiple Templates**: Use different templates for different purposes
- üé® **Intuitive UI**: Easy setup with a user-friendly options page
- üîç **Transform Rules**: Convert URLs using regular expressions

---

## üöÄ Usage

### 1. Create a Template

Click on the extension icon and open "Options" to create a new template.

![Options Page](./docs/images/options.png)

**Example: Markdown Link Format**
```
[${selectionText}](${url})
```

**Example: Citation Format**
```
> ${selectionText}
Source: ${title} (${url})
```

### 2. Select and Copy Text

1. Select the text you want to copy on a web page
2. Right-click to display the context menu
3. Select [Custom Copy] > your template name
   ‚Äª If there is only one template, only that template will be displayed.

![Context Menu](./docs/images/context-menu.png)

### 3. Set Keyboard Shortcuts (Optional)

You can assign keyboard shortcuts to frequently used snippets.

1. Expand "Options" for each snippet on the options page
2. Select one of Ctrl+Shift+1 ~ 4 from "Keyboard Shortcut"
3. Simply select text on a page and press the configured shortcut key to copy

**Note**: If multiple snippets are assigned the same shortcut, the first snippet found will be executed.

### 4. Copied to Clipboard

The text is copied to the clipboard in the selected template format.

---

## üìã Template Variables

You can use the following variables in templates:

| Variable | Description | Example |
| --- | --- | --- |
| `${title}` | Page title | `GitHub - Top Page` |
| `${url}` | Page URL | `https://github.com` |
| `${selectionText}` | Selected text | `Any selected text` |
| `${section}` | Nearest heading (h1-h6) to selected text | `Introduction` |

---

## üîß Transform Rules

You can convert page URLs using regular expressions. By setting "Transform Rules" separately from templates, you can automatically modify the value of the `${url}` variable.

### Usage Example

**Transform Rule Setting:**
- Search Pattern: `https://`
- Replacement String: `http://`

**Result:**
The protocol part of the URL is converted from `https://` to `http://`.

**Use Cases:**
- Remove URL query parameters
- Replace specific domain parts
- Convert parts of URLs to shortened forms

---

## üí° Template Examples

### Markdown Link
```
[${selectionText}](${url})
```

### Link with Citation
```
> ${selectionText}

[${title}](${url})
```

### HTML Format
```html
<a href="${url}" title="${title}">${selectionText}</a>
```

### Note Format
```
„ÄêReference„Äë${title}
Content: ${selectionText}
URL: ${url}
```

### Bullet Point Format
```
- ${selectionText} - [${title}](${url})
```

---

## üõ†Ô∏è Development

### Requirements

- Node.js (v18 or higher recommended)
- npm or yarn

### Setup

```bash
# Clone the repository
git clone https://github.com/Yuta-31/customCopy.git
cd customCopy

# Install dependencies
npm install

# Development build
npm run build

# Production build
npm run build:prod
```

**Add Extension to Chrome:**

1. Open Chrome and enter `chrome://extensions/` in the address bar
2. Toggle "Developer mode" in the upper right corner
3. Click "Load unpacked"
4. Select the `dist` folder generated by the build
5. The extension will be added and available for immediate use

### Tech Stack

- **Framework**: React 18
- **Build Tool**: Vite 7
- **Language**: TypeScript 5.9
- **Styling**: Tailwind CSS 4
- **UI Components**: shadcn/ui + Radix UI
- **Icons**: Lucide React
- **Testing**: Vitest
- **Linting**: ESLint

---

## üìÑ License

MIT License
See the public/LICENSE file for details.

---

## üîó Links

- [Chrome Web Store](https://chromewebstore.google.com/detail/custom-copy/mdkihjamcddnifdkigeigifgoafgkfbi)
- [Issues](https://github.com/Yuta-31/customCopy/issues)

---

## üìù Changelog

### v2.1.1 (2026-01-01)

- **Shortcut Key Display**: Display actual registered shortcut keys in the snippet list dropdown

### v2.1.0 (2025-12-30)

- **Keyboard Shortcut Feature**: Quick snippet execution with Ctrl+Shift+1 ~ 4 shortcut keys
- **Dark Mode Support**: System theme support with light/dark theme switching
- **Settings Menu Addition**: Implemented theme switching settings menu on options page

### v2.0.0 (2025-12-29)

- **Section Heading Extraction**: Added `${section}` variable to retrieve the nearest heading (h1-h6) to selected text
- **URL Transform Rules**: Added automatic URL conversion using regular expressions
- **Major UI Redesign**: Refreshed with modern UI design using shadcn/ui
- **Snippet Import/Export**: Settings backup and sharing to other environments
- **Test Addition**: Comprehensive tests for file processing, storage, URL conversion, and templates
- **Enhanced Logging**: Improved logging for debugging and troubleshooting

### v1.1.0 (2025-12-28)

- Options page UI improvements
- Performance optimization
- Query deletion feature added
- Migration to React 18, Vite 7, TypeScript 5.9, Tailwind CSS 4

### v1.0.0 (Initial Release)

- Basic template functionality
- Copy from context menu
- Variable support for page title, URL, and selected text
- Options page implementation
